/*C7*/SET SCHEMA PUBLIC
drop table if exists Fiche CASCADE 
drop table if exists Section CASCADE 
drop table if exists Sondage CASCADE 
drop table if exists TableauKanban CASCADE 
drop table if exists Tag CASCADE 
drop table if exists Utilisateur CASCADE 
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table Fiche (id_fiche bigint not null, date_buttoir date, libelle varchar(255), lieu varchar(255), note varchar(255), temps bigint, url varchar(255), tableau_id_Kanban bigint, utilisateur_id_utilisateur bigint, primary key (id_fiche))
create table Section (id_section bigint not null, fichier_id_fiche bigint, tableaukanban_id_Kanban bigint, primary key (id_section))
create table Sondage (DTYPE varchar(31) not null, id_Sondage bigint not null, choix_date timestamp, choix_date_lieu varchar(255), choix_lieu varchar(255), primary key (id_Sondage))
create table TableauKanban (id_Kanban bigint not null, primary key (id_Kanban))
create table Tag (id_Tag bigint not null, libelle varchar(255), fiche_id_fiche bigint, primary key (id_Tag))
create table Utilisateur (id_utilisateur bigint not null, primary key (id_utilisateur))
alter table Fiche add constraint FK2ut4gsiciwxj8gyasjbe72als foreign key (tableau_id_Kanban) references TableauKanban
alter table Fiche add constraint FKh5rthkhbawvef63or60fn4612 foreign key (utilisateur_id_utilisateur) references Utilisateur
alter table Section add constraint FKbtueftmjdr9rmlg1fyy3e5ptp foreign key (fichier_id_fiche) references Fiche
alter table Section add constraint FKfcjhq4siyhksy3e7olxnus1i5 foreign key (tableaukanban_id_Kanban) references TableauKanban
alter table Tag add constraint FKlw19621616pu8sgcpukyd673d foreign key (fiche_id_fiche) references Fiche
/*C8*/SET SCHEMA PUBLIC
drop table if exists Fiche CASCADE 
drop table if exists Section CASCADE 
drop table if exists Sondage CASCADE 
drop table if exists TableauKanban CASCADE 
drop table if exists Tag CASCADE 
drop table if exists Utilisateur CASCADE 
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table Fiche (id_fiche bigint not null, date_buttoir date, libelle varchar(255), lieu varchar(255), note varchar(255), temps bigint, url varchar(255), tableau_id_Kanban bigint, utilisateur_id_utilisateur bigint, primary key (id_fiche))
create table Section (id_section bigint not null, fichier_id_fiche bigint, tableaukanban_id_Kanban bigint, primary key (id_section))
create table Sondage (DTYPE varchar(31) not null, id_Sondage bigint not null, choix_date timestamp, choix_date_lieu varchar(255), choix_lieu varchar(255), primary key (id_Sondage))
create table TableauKanban (id_Kanban bigint not null, primary key (id_Kanban))
create table Tag (id_Tag bigint not null, libelle varchar(255), fiche_id_fiche bigint, primary key (id_Tag))
create table Utilisateur (id_utilisateur bigint not null, primary key (id_utilisateur))
alter table Fiche add constraint FK2ut4gsiciwxj8gyasjbe72als foreign key (tableau_id_Kanban) references TableauKanban
alter table Fiche add constraint FKh5rthkhbawvef63or60fn4612 foreign key (utilisateur_id_utilisateur) references Utilisateur
alter table Section add constraint FKbtueftmjdr9rmlg1fyy3e5ptp foreign key (fichier_id_fiche) references Fiche
alter table Section add constraint FKfcjhq4siyhksy3e7olxnus1i5 foreign key (tableaukanban_id_Kanban) references TableauKanban
alter table Tag add constraint FKlw19621616pu8sgcpukyd673d foreign key (fiche_id_fiche) references Fiche
INSERT INTO FICHE VALUES(1,'2021-03-07','preparation 2','rennes','bonne fiche',40,'le lien ',NULL,NULL)
INSERT INTO TAG VALUES(2,'les donn\u00e9s',NULL)
INSERT INTO TAG VALUES(3,'bon produit',NULL)
INSERT INTO FICHE VALUES(4,'2021-03-07','preparation 3','rennes','fiche',40,'le lien de url',NULL,NULL)
INSERT INTO SECTION VALUES(5,NULL,NULL)
INSERT INTO SECTION VALUES(6,NULL,NULL)
INSERT INTO SECTION VALUES(7,NULL,NULL)
INSERT INTO TABLEAUKANBAN VALUES(8)
INSERT INTO UTILISATEUR VALUES(9)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 10
COMMIT
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
